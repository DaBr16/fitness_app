{"ast":null,"code":"import { createAction, createReducer, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"../axiosURL.js\";\nexport const loadFoods = createAsyncThunk(\"fitness/loadFoods\", async () => {\n  const res = await axios.get(\"/fitness/food\", {\n    withCredential: true\n  });\n  return res.data;\n});\nexport const updateFood = createAction(\"fitness/updateFood\");\nexport const createFood = createAction(\"fitness/createFood\");\nconst initialState = {\n  food: []\n};\nconst foodReducer = createReducer(initialState, builder => {\n  builder.addCase(loadFoods.fulfilled, (state, action) => {\n    return {\n      ...state,\n      food: action.payload\n    };\n  }).addCase(createFood, (state, action) => {\n    const foodCopy = [...state.food];\n    const newFood = {\n      _id: action.payload._id,\n      name: action.payload.name,\n      baseAmount: action.payload.baseAmount,\n      energy: action.payload.energy,\n      fat: action.payload.fat,\n      carbohydrates: action.payload.carbohydrates,\n      protein: action.payload.protein,\n      salt: action.payload.salt,\n      fiber: action.payload.fiber,\n      drink: action.payload.drink,\n      __v: action.payload.__v\n    };\n    foodCopy.push(newFood);\n    return {\n      ...state,\n      food: foodCopy\n    };\n  }).addCase(updateFood, (state, action) => {\n    const foodIndex = state.food.findIndex(t => t._id === action.payload._id);\n    const foodCopy = {\n      ...state.food[foodIndex]\n    };\n    const foodsArrayCopy = [...state.food];\n    foodsArrayCopy[foodIndex] = foodCopy;\n    return {\n      ...state,\n      food: foodsArrayCopy\n    };\n  });\n});\nexport default foodReducer;","map":{"version":3,"names":["createAction","createReducer","createAsyncThunk","axios","loadFoods","res","get","withCredential","data","updateFood","createFood","initialState","food","foodReducer","builder","addCase","fulfilled","state","action","payload","foodCopy","newFood","_id","name","baseAmount","energy","fat","carbohydrates","protein","salt","fiber","drink","__v","push","foodIndex","findIndex","t","foodsArrayCopy"],"sources":["/home/brezerda/Projects/Repos/fitness_app/src/Reducer/foodReducer.js"],"sourcesContent":["import {createAction, createReducer, createAsyncThunk} from \"@reduxjs/toolkit\";\nimport axios from \"../axiosURL.js\";\n\nexport const loadFoods = createAsyncThunk(\"fitness/loadFoods\", async () => {\n    const res = await axios.get(\"/fitness/food\", {withCredential: true})\n    return res.data\n});\n\nexport const updateFood = createAction(\"fitness/updateFood\")\nexport const createFood = createAction(\"fitness/createFood\")\n\nconst initialState = {\n    food: []\n};\n\nconst foodReducer = createReducer(initialState, (builder) => {\n    builder.addCase(loadFoods.fulfilled, (state, action) => {\n        return{\n            ...state,\n            food: action.payload\n        }\n    })\n    .addCase(createFood, (state, action) => {\n        const foodCopy = [...state.food]\n        const newFood = {\n            _id: action.payload._id,\n            name: action.payload.name, \n            baseAmount: action.payload.baseAmount, \n            energy: action.payload.energy,\n            fat: action.payload.fat,\n            carbohydrates: action.payload.carbohydrates,\n            protein: action.payload.protein,\n            salt: action.payload.salt,\n            fiber: action.payload.fiber,\n            drink: action.payload.drink,\n            __v: action.payload.__v\n        }\n\n        foodCopy.push(newFood)\n        return {\n            ...state,\n            food: foodCopy\n        }\n    })\n    .addCase(updateFood, (state, action) => {\n        const foodIndex = state.food.findIndex(t => t._id === action.payload._id)\n        const foodCopy = {...state.food[foodIndex]}\n        const foodsArrayCopy = [...state.food]\n        foodsArrayCopy[foodIndex] = foodCopy\n\n        return{\n            ...state,\n            food: foodsArrayCopy\n        }\n    })\n});\n\nexport default foodReducer;"],"mappings":"AAAA,SAAQA,YAAY,EAAEC,aAAa,EAAEC,gBAAgB,QAAO,kBAAkB;AAC9E,OAAOC,KAAK,MAAM,gBAAgB;AAElC,OAAO,MAAMC,SAAS,GAAGF,gBAAgB,CAAC,mBAAmB,EAAE,YAAY;EACvE,MAAMG,GAAG,GAAG,MAAMF,KAAK,CAACG,GAAG,CAAC,eAAe,EAAE;IAACC,cAAc,EAAE;EAAI,CAAC,CAAC;EACpE,OAAOF,GAAG,CAACG,IAAI;AACnB,CAAC,CAAC;AAEF,OAAO,MAAMC,UAAU,GAAGT,YAAY,CAAC,oBAAoB,CAAC;AAC5D,OAAO,MAAMU,UAAU,GAAGV,YAAY,CAAC,oBAAoB,CAAC;AAE5D,MAAMW,YAAY,GAAG;EACjBC,IAAI,EAAE;AACV,CAAC;AAED,MAAMC,WAAW,GAAGZ,aAAa,CAACU,YAAY,EAAGG,OAAO,IAAK;EACzDA,OAAO,CAACC,OAAO,CAACX,SAAS,CAACY,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;IACpD,OAAM;MACF,GAAGD,KAAK;MACRL,IAAI,EAAEM,MAAM,CAACC;IACjB,CAAC;EACL,CAAC,CAAC,CACDJ,OAAO,CAACL,UAAU,EAAE,CAACO,KAAK,EAAEC,MAAM,KAAK;IACpC,MAAME,QAAQ,GAAG,CAAC,GAAGH,KAAK,CAACL,IAAI,CAAC;IAChC,MAAMS,OAAO,GAAG;MACZC,GAAG,EAAEJ,MAAM,CAACC,OAAO,CAACG,GAAG;MACvBC,IAAI,EAAEL,MAAM,CAACC,OAAO,CAACI,IAAI;MACzBC,UAAU,EAAEN,MAAM,CAACC,OAAO,CAACK,UAAU;MACrCC,MAAM,EAAEP,MAAM,CAACC,OAAO,CAACM,MAAM;MAC7BC,GAAG,EAAER,MAAM,CAACC,OAAO,CAACO,GAAG;MACvBC,aAAa,EAAET,MAAM,CAACC,OAAO,CAACQ,aAAa;MAC3CC,OAAO,EAAEV,MAAM,CAACC,OAAO,CAACS,OAAO;MAC/BC,IAAI,EAAEX,MAAM,CAACC,OAAO,CAACU,IAAI;MACzBC,KAAK,EAAEZ,MAAM,CAACC,OAAO,CAACW,KAAK;MAC3BC,KAAK,EAAEb,MAAM,CAACC,OAAO,CAACY,KAAK;MAC3BC,GAAG,EAAEd,MAAM,CAACC,OAAO,CAACa;IACxB,CAAC;IAEDZ,QAAQ,CAACa,IAAI,CAACZ,OAAO,CAAC;IACtB,OAAO;MACH,GAAGJ,KAAK;MACRL,IAAI,EAAEQ;IACV,CAAC;EACL,CAAC,CAAC,CACDL,OAAO,CAACN,UAAU,EAAE,CAACQ,KAAK,EAAEC,MAAM,KAAK;IACpC,MAAMgB,SAAS,GAAGjB,KAAK,CAACL,IAAI,CAACuB,SAAS,CAACC,CAAC,IAAIA,CAAC,CAACd,GAAG,KAAKJ,MAAM,CAACC,OAAO,CAACG,GAAG,CAAC;IACzE,MAAMF,QAAQ,GAAG;MAAC,GAAGH,KAAK,CAACL,IAAI,CAACsB,SAAS;IAAC,CAAC;IAC3C,MAAMG,cAAc,GAAG,CAAC,GAAGpB,KAAK,CAACL,IAAI,CAAC;IACtCyB,cAAc,CAACH,SAAS,CAAC,GAAGd,QAAQ;IAEpC,OAAM;MACF,GAAGH,KAAK;MACRL,IAAI,EAAEyB;IACV,CAAC;EACL,CAAC,CAAC;AACN,CAAC,CAAC;AAEF,eAAexB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}