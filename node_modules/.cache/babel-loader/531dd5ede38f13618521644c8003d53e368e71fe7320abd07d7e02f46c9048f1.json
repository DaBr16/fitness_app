{"ast":null,"code":"import { createAction, createReducer, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"../axiosURL.js\";\nexport const loadDays = createAsyncThunk(\"fitness/loadDays\", async () => {\n  const res = await axios.get(\"/fitness/days\", {\n    withCredentials: true\n  });\n  return res.data;\n});\nexport const updateDay = createAction(\"fitness/updateDay\");\nexport const createDay = createAction(\"fitness/createDay\");\nconst initialState = {\n  day: []\n};\nconst dayReducer = createReducer(initialState, builder => {\n  builder.addCase(loadDays.fulfilled, (state, action) => {\n    return {\n      ...state,\n      day: action.payload\n    };\n  }).addCase(createDay, (state, action) => {\n    const dayCopy = [...state.day];\n    const newDay = {\n      date: action.payload.date,\n      food: [action.payload.foodId, action.payload.amount],\n      exercise: [action.payload.exerciseId, action.payload.timeInMinutes],\n      profileId: action.payload.profileId\n    };\n    dayCopy.push(newDay);\n    return {\n      ...state,\n      day: dayCopy\n    };\n  }).addCase(updateExercise, (state, action) => {\n    const exerciseIndex = state.exercise.findIndex(t => t._id === action.payload.exerciseId);\n    const exerciseCopy = {\n      ...state.exercise[exerciseIndex]\n    };\n    const {\n      exerciseId,\n      ...rest\n    } = action.payload;\n    Object.assign(exerciseCopy, rest);\n    const exerciseArrayCopy = [...state.exercise];\n    exerciseArrayCopy[exerciseIndex] = exerciseCopy;\n    return {\n      ...state,\n      exercise: exerciseArrayCopy\n    };\n  });\n});\nexport default dayReducer;","map":{"version":3,"names":["createAction","createReducer","createAsyncThunk","axios","loadDays","res","get","withCredentials","data","updateDay","createDay","initialState","day","dayReducer","builder","addCase","fulfilled","state","action","payload","dayCopy","newDay","date","food","foodId","amount","exercise","exerciseId","timeInMinutes","profileId","push","updateExercise","exerciseIndex","findIndex","t","_id","exerciseCopy","rest","Object","assign","exerciseArrayCopy"],"sources":["/home/brezerda/Projects/Repos/fitness_app/src/Reducer/day.reducer.js"],"sourcesContent":["import {createAction, createReducer, createAsyncThunk} from \"@reduxjs/toolkit\";\nimport axios from \"../axiosURL.js\";\n\nexport const loadDays = createAsyncThunk(\"fitness/loadDays\", async () => {\n    const res = await axios.get(\"/fitness/days\", {withCredentials: true})\n    return res.data\n});\n\nexport const updateDay = createAction(\"fitness/updateDay\")\nexport const createDay = createAction(\"fitness/createDay\")\n\nconst initialState = {\n    day: []\n};\n\nconst dayReducer = createReducer(initialState, (builder) => {\n    builder.addCase(loadDays.fulfilled, (state, action) => {\n        return{\n            ...state,\n            day: action.payload\n        }\n    })\n    .addCase(createDay, (state, action) => {\n        const dayCopy = [...state.day]\n        const newDay = {\n            date: action.payload.date, \n            food: [\n                action.payload.foodId,\n                action.payload.amount\n                ],\n            exercise: [\n                action.payload.exerciseId,\n                action.payload.timeInMinutes\n            ],\n            profileId: action.payload.profileId \n        }\n        dayCopy.push(newDay)\n        return {\n            ...state,\n            day: dayCopy\n        }\n    })\n    .addCase(updateExercise, (state, action) => {\n        const exerciseIndex = state.exercise.findIndex(t => t._id === action.payload.exerciseId)\n        const exerciseCopy = {...state.exercise[exerciseIndex]}\n        const { exerciseId, ...rest } = action.payload;\n        Object.assign(exerciseCopy, rest);\n        const exerciseArrayCopy = [...state.exercise]\n        exerciseArrayCopy[exerciseIndex] = exerciseCopy\n        return{\n            ...state,\n            exercise: exerciseArrayCopy \n        }\n    })\n});\n\nexport default dayReducer;"],"mappings":"AAAA,SAAQA,YAAY,EAAEC,aAAa,EAAEC,gBAAgB,QAAO,kBAAkB;AAC9E,OAAOC,KAAK,MAAM,gBAAgB;AAElC,OAAO,MAAMC,QAAQ,GAAGF,gBAAgB,CAAC,kBAAkB,EAAE,YAAY;EACrE,MAAMG,GAAG,GAAG,MAAMF,KAAK,CAACG,GAAG,CAAC,eAAe,EAAE;IAACC,eAAe,EAAE;EAAI,CAAC,CAAC;EACrE,OAAOF,GAAG,CAACG,IAAI;AACnB,CAAC,CAAC;AAEF,OAAO,MAAMC,SAAS,GAAGT,YAAY,CAAC,mBAAmB,CAAC;AAC1D,OAAO,MAAMU,SAAS,GAAGV,YAAY,CAAC,mBAAmB,CAAC;AAE1D,MAAMW,YAAY,GAAG;EACjBC,GAAG,EAAE;AACT,CAAC;AAED,MAAMC,UAAU,GAAGZ,aAAa,CAACU,YAAY,EAAGG,OAAO,IAAK;EACxDA,OAAO,CAACC,OAAO,CAACX,QAAQ,CAACY,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;IACnD,OAAM;MACF,GAAGD,KAAK;MACRL,GAAG,EAAEM,MAAM,CAACC;IAChB,CAAC;EACL,CAAC,CAAC,CACDJ,OAAO,CAACL,SAAS,EAAE,CAACO,KAAK,EAAEC,MAAM,KAAK;IACnC,MAAME,OAAO,GAAG,CAAC,GAAGH,KAAK,CAACL,GAAG,CAAC;IAC9B,MAAMS,MAAM,GAAG;MACXC,IAAI,EAAEJ,MAAM,CAACC,OAAO,CAACG,IAAI;MACzBC,IAAI,EAAE,CACFL,MAAM,CAACC,OAAO,CAACK,MAAM,EACrBN,MAAM,CAACC,OAAO,CAACM,MAAM,CACpB;MACLC,QAAQ,EAAE,CACNR,MAAM,CAACC,OAAO,CAACQ,UAAU,EACzBT,MAAM,CAACC,OAAO,CAACS,aAAa,CAC/B;MACDC,SAAS,EAAEX,MAAM,CAACC,OAAO,CAACU;IAC9B,CAAC;IACDT,OAAO,CAACU,IAAI,CAACT,MAAM,CAAC;IACpB,OAAO;MACH,GAAGJ,KAAK;MACRL,GAAG,EAAEQ;IACT,CAAC;EACL,CAAC,CAAC,CACDL,OAAO,CAACgB,cAAc,EAAE,CAACd,KAAK,EAAEC,MAAM,KAAK;IACxC,MAAMc,aAAa,GAAGf,KAAK,CAACS,QAAQ,CAACO,SAAS,CAACC,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAKjB,MAAM,CAACC,OAAO,CAACQ,UAAU,CAAC;IACxF,MAAMS,YAAY,GAAG;MAAC,GAAGnB,KAAK,CAACS,QAAQ,CAACM,aAAa;IAAC,CAAC;IACvD,MAAM;MAAEL,UAAU;MAAE,GAAGU;IAAK,CAAC,GAAGnB,MAAM,CAACC,OAAO;IAC9CmB,MAAM,CAACC,MAAM,CAACH,YAAY,EAAEC,IAAI,CAAC;IACjC,MAAMG,iBAAiB,GAAG,CAAC,GAAGvB,KAAK,CAACS,QAAQ,CAAC;IAC7Cc,iBAAiB,CAACR,aAAa,CAAC,GAAGI,YAAY;IAC/C,OAAM;MACF,GAAGnB,KAAK;MACRS,QAAQ,EAAEc;IACd,CAAC;EACL,CAAC,CAAC;AACN,CAAC,CAAC;AAEF,eAAe3B,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}